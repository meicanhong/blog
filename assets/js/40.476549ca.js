(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{477:function(t,a,s){"use strict";s.r(a);var r=s(2),e=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vpn节点搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vpn节点搭建"}},[t._v("#")]),t._v(" VPN节点搭建")]),t._v(" "),a("h2",{attrs:{id:"vps-购买"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vps-购买"}},[t._v("#")]),t._v(" VPS 购买")]),t._v(" "),a("p",[t._v("VPS 购买地址:")]),t._v(" "),a("ul",[a("li",[t._v("1C1G "),a("a",{attrs:{href:"https://my.racknerd.com/aff.php?aff=8055&pid=735",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://my.racknerd.com/aff.php?aff=8055&pid=735"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("2C2G "),a("a",{attrs:{href:"https://my.racknerd.com/aff.php?aff=8055&pid=768",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://my.racknerd.com/aff.php?aff=8055&pid=76"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("4C4G "),a("a",{attrs:{href:"https://my.racknerd.com/aff.php?aff=8055&pid=737",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://my.racknerd.com/aff.php?aff=8055&pid=73"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"域名购买"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#域名购买"}},[t._v("#")]),t._v(" 域名购买")]),t._v(" "),a("p",[t._v("推荐国内的云，6元能买到一个一年的域名")]),t._v(" "),a("h2",{attrs:{id:"v2ray"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#v2ray"}},[t._v("#")]),t._v(" V2ray")]),t._v(" "),a("h3",{attrs:{id:"搭建-v2ray"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建-v2ray"}},[t._v("#")]),t._v(" 搭建 V2ray")]),t._v(" "),a("p",[t._v("系统推荐使用 Ubutu 22.04（尝试过 Centos7，使用一键脚本存在问题）")]),t._v(" "),a("p",[t._v("一键安装 V2ray 命令："),a("code",[t._v("bash <(wget -qO- -o- [https://git.io/v2ray.sh](https://git.io/v2ray.sh))")])]),t._v(" "),a("p",[t._v("详细教程查看  "),a("a",{attrs:{href:"https://github.com/233boy/v2ray",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/233boy/v2ray"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"tls-ws-web"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tls-ws-web"}},[t._v("#")]),t._v(" TLS+WS+Web")]),t._v(" "),a("p",[t._v("参考：https://github.com/233boy/v2ray")]),t._v(" "),a("h2",{attrs:{id:"gost"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gost"}},[t._v("#")]),t._v(" Gost")]),t._v(" "),a("h3",{attrs:{id:"gost-协议搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gost-协议搭建"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Gost 协议搭建")])]),t._v(" "),a("p",[t._v("参考："),a("a",{attrs:{href:"https://github.com/haoel/haoel.github.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/haoel/haoel.github.io"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"谷歌人机验证问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#谷歌人机验证问题"}},[t._v("#")]),t._v(" 谷歌人机验证问题")]),t._v(" "),a("p",[t._v("为啥会出现人机验证问题")]),t._v(" "),a("p",[t._v("原因：VPS 所在网段被谷歌拉黑，可能是同网段内其他VPS访问谷歌太频繁。")]),t._v(" "),a("p",[t._v("解决方案之一：访问 Google 的请求走 Tunnel，避免直接使用 VPS 的 IP 访问即可。下面我们利用 CF 提供的 WARP 解决")]),t._v(" "),a("p",[t._v("一键安装 cf warp 添加 ipv6 命令")]),t._v(" "),a("p",[a("code",[t._v("bash <(curl -fsSL [git.io/warp.sh](http://git.io/warp.sh)) 6")])]),t._v(" "),a("p",[t._v("执行完成后，执行 "),a("code",[t._v("ifconfig")]),t._v(" 可以看到 "),a("code",[t._v("wgcf")]),t._v(" 端口")]),t._v(" "),a("p",[t._v("修改 v2ray.config 文件，让 google 的请求 走 "),a("code",[t._v("wgcf")]),t._v(" 端口")]),t._v(" "),a("p",[t._v("outbounds 里添加")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"freedom"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"settings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"domainStrategy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UseIPv6"')]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tag"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wgcf-ipv6"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("routing 的 rules 添加规则")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"field"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"outboundTag"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wgcf-ipv6"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 这个tag和"outbounds"判断的tag名字一样')]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"domain"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"geosite:google"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// google 走 IPv6")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("重启 v2ray 生效配置。")]),t._v(" "),a("p",[t._v("检测是否走 "),a("code",[t._v("wgcf")]),t._v(" 端口，"),a("code",[t._v("tcpdump -i wgcf host [www.google.com](http://www.google.com/)")])])])}),[],!1,null,null,null);a.default=e.exports}}]);